<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="–û–ø—Ü–∏–æ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ Gold (CME). Max Pain, Gamma Walls, Greeks Analytics, Real-time Charts.">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>">

    <title>Gold Options - Pro Analytics</title>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --accent-gold: #FFD700;
            --call-color: #2e7d32;
            --put-color: #c62828;
            --strike-bg: #2c2c2c;
            --bullish: #4caf50;
            --bearish: #f44336;
            --neutral: #9e9e9e;
        }
        
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg-color); color: var(--text-color); margin: 0; padding: 0; }
        a { text-decoration: none; color: inherit; }
        
        header { background: #333; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .logo { font-size: 1.5em; font-weight: bold; color: #fff; display: flex; align-items: center; gap: 10px; }
        .menu { list-style: none; display: flex; gap: 20px; padding: 0; margin: 0; }
        .menu a:hover { color: var(--accent-gold); }

        .hero { background: linear-gradient(135deg, #000000 0%, #434343 100%); padding: 40px 20px; text-align: center; color: #fff; }
        .hero h1 { margin: 0 0 5px 0; font-size: 2em; font-weight: 800; color: var(--accent-gold); }
        .subtitle { font-size: 1.1em; margin-bottom: 20px; opacity: 0.8; }
        .btn-primary { background: var(--accent-gold); color: #000; padding: 12px 30px; border-radius: 25px; font-weight: bold; transition: 0.3s; display: inline-block; }
        .btn-primary:hover { background: #fff; }

        .live-data { padding: 20px; background: #000; }

        .warning-block {
            text-align: center; margin-bottom: 20px; 
            border: 1px solid #b71c1c; 
            background: rgba(183, 28, 28, 0.1); 
            padding: 15px; border-radius: 8px;
        }
        .warning-title { color: #e57373; font-size: 1em; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .warning-text { color: #ccc; font-size: 0.9em; margin: 0; }

        /* DISCLAIMER MODAL */
        .disclaimer-modal {
            display: none; position: fixed; z-index: 9999;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); overflow: auto;
        }
        .disclaimer-content {
            background: #1a1a1a; margin: 5% auto; padding: 30px;
            border: 2px solid var(--accent-gold); border-radius: 10px;
            width: 90%; max-width: 700px; color: #fff;
        }
        .disclaimer-content h2 {
            color: var(--accent-gold); margin-top: 0;
        }
        .disclaimer-content p {
            line-height: 1.6; margin: 15px 0;
        }
        .close-disclaimer {
            background: var(--accent-gold); color: #000;
            padding: 10px 30px; border: none; border-radius: 5px;
            font-weight: bold; cursor: pointer; float: right;
        }
        .close-disclaimer:hover {
            background: #fff;
        }
        
        .data-container { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .data-card { background: #222; padding: 10px; border-radius: 8px; min-width: 140px; text-align: center; border: 1px solid #333; }
        .big-number { font-size: 1.3em; font-weight: bold; color: var(--accent-gold); margin: 5px 0; }
        .small-text { color: #888; font-size: 0.75em; }
        
        .pcr-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
        .pcr-item div:first-child { font-weight: bold; color: #fff; }
        .pcr-item div:last-child { font-size: 0.7em; color: #888; }

        /* üî• –ù–û–í–´–ï ALERTS */
        .alerts-container {
            max-width: 1200px; margin: 0 auto 20px auto;
            display: flex; gap: 10px; flex-wrap: wrap;
            justify-content: center;
        }
        .alert {
            padding: 12px 20px; border-radius: 8px;
            font-weight: bold; font-size: 0.9em;
            border-left: 4px solid;
            animation: slideIn 0.3s ease;
        }
        .alert-warning { background: rgba(255, 152, 0, 0.1); border-color: #ff9800; color: #ffb74d; }
        .alert-danger { background: rgba(244, 67, 54, 0.1); border-color: #f44336; color: #ef5350; }
        .alert-info { background: rgba(33, 150, 243, 0.1); border-color: #2196f3; color: #42a5f5; }
        .alert-success { background: rgba(76, 175, 80, 0.1); border-color: #4caf50; color: #66bb6a; }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* –ê–ù–ê–õ–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–õ–û–ö–ò */
        .analytics-grid {
            max-width: 1200px; margin: 0 auto 20px auto;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;
        }
        .analytics-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border: 1px solid #444; border-radius: 10px;
            padding: 20px; position: relative; overflow: hidden;
        }
        .analytics-card::before {
            content: ''; position: absolute; top: 0; left: 0;
            width: 4px; height: 100%; background: var(--accent-gold);
        }
        .analytics-title {
            font-size: 1.1em; font-weight: bold; color: var(--accent-gold);
            margin-bottom: 15px; display: flex; align-items: center; gap: 8px;
        }
        .analytics-value {
            font-size: 2em; font-weight: bold; color: #fff;
            text-align: center; margin: 10px 0;
        }
        .analytics-label {
            color: #888; font-size: 0.85em; text-align: center;
        }
        .level-item {
            background: #222; padding: 8px 12px; border-radius: 6px;
            margin: 5px 0; display: flex; justify-content: space-between;
            align-items: center; border-left: 3px solid transparent;
        }
        .level-item.support { border-left-color: var(--call-color); }
        .level-item.resistance { border-left-color: var(--put-color); }
        .level-strike { font-weight: bold; color: #fff; }
        .level-value { color: var(--accent-gold); font-weight: bold; }

        /* üî• SENTIMENT BADGE */
        .sentiment-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            text-transform: uppercase;
        }
        .sentiment-bullish { background: var(--bullish); color: #fff; }
        .sentiment-bearish { background: var(--bearish); color: #fff; }
        .sentiment-neutral { background: var(--neutral); color: #fff; }

        /* üî• –†–ò–°–ö –ò–ù–î–ò–ö–ê–¢–û–† */
        .risk-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        .risk-bar {
            width: 100%;
            height: 20px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        .risk-fill {
            height: 100%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        .risk-low { background: var(--bullish); }
        .risk-medium { background: #ff9800; }
        .risk-high { background: var(--bearish); }

        /* üî• –ì–†–ê–§–ò–ö–ò üî• */
        .charts-container {
            max-width: 1200px; margin: 0 auto 30px auto;
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
        }
        .chart-box {
            background: #1a1a1a; border: 1px solid #444;
            padding: 20px; border-radius: 10px;
            position: relative;
        }
        .chart-title {
            font-size: 1.2em; font-weight: bold; color: var(--accent-gold);
            margin-bottom: 15px; text-align: center;
        }
        .chart-wrapper {
            position: relative; height: 300px;
        }

        /* –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
        .control-panel {
            max-width: 1000px; margin: 0 auto 20px auto; 
            background: #1a1a1a; border: 1px solid #444;
            padding: 20px; border-radius: 10px;
            display: flex; flex-direction: column; gap: 15px;
        }

        /* –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –û–ü–¶–ò–û–ù–û–í */
        .expiry-toggle {
            display: flex; align-items: center; justify-content: center;
            gap: 10px; background: #2a2a2a; padding: 15px;
            border: 1px solid var(--accent-gold); border-radius: 8px;
        }
        .expiry-btn {
            background: #333; color: #aaa; border: 1px solid #555;
            padding: 10px 20px; border-radius: 5px; cursor: pointer;
            font-weight: bold; transition: all 0.3s;
        }
        .expiry-btn:hover { background: #444; }
        .expiry-btn.active {
            background: var(--accent-gold); color: #000;
            border-color: var(--accent-gold);
        }

        .calculator-panel {
            display: flex; align-items: center; justify-content: center; gap: 15px;
            background: #2a2a2a; border: 1px solid var(--accent-gold);
            padding: 15px; border-radius: 8px; flex-wrap: wrap;
        }
        .calc-input { 
            background: #111; border: 1px solid #555; color: var(--accent-gold); 
            padding: 10px; border-radius: 5px; width: 100px; 
            font-size: 1.2em; text-align: center; font-weight: bold; 
        }

        /* –ö–ù–û–ü–ö–ê –ü–†–ï–ú–ò–ò */
        .premium-btn {
            background: #d32f2f; color: white;
            padding: 10px 20px; border: none; border-radius: 5px;
            font-weight: bold; cursor: pointer; transition: all 0.3s;
        }
        .premium-btn:hover {
            background: #f44336;
        }
        .premium-btn.active {
            background: #4caf50;
        }

        .strike-filter {
            display: flex; align-items: center; justify-content: center; gap: 10px;
            flex-wrap: wrap;
        }
        .filter-label { color: #fff; font-weight: bold; }
        .filter-btn {
            background: #2a2a2a; color: #aaa; 
            border: 1px solid #555; padding: 8px 16px; 
            border-radius: 5px; cursor: pointer;
            transition: all 0.3s;
        }
        .filter-btn:hover { background: #333; }
        .filter-btn.active { 
            background: var(--accent-gold); 
            color: #000; 
            border-color: var(--accent-gold);
            font-weight: bold;
        }

        /* –¢–û–ü-5 */
        .top5-container {
            max-width: 1000px; margin: 0 auto 20px auto;
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
        }
        .top5-box {
            background: #1a1a1a; border: 1px solid #444;
            padding: 15px; border-radius: 10px;
        }
        .top5-title {
            font-size: 1.1em; font-weight: bold; 
            color: var(--accent-gold);
            margin-bottom: 10px; text-align: center;
            border-bottom: 2px solid #333; padding-bottom: 8px;
        }
        .top5-grid { display: flex; flex-direction: column; gap: 8px; }
        .top5-item {
            background: #222; padding: 8px 12px; border-radius: 6px;
            display: flex; justify-content: space-between;
            align-items: center;
            border-left: 3px solid transparent;
        }
        .top5-item.call-item { border-left-color: var(--call-color); }
        .top5-item.put-item { border-left-color: var(--put-color); }
        .top5-strike { 
            font-weight: bold; color: #fff; 
            font-size: 1.1em; min-width: 70px;
        }
        .top5-value { 
            color: var(--accent-gold); font-weight: bold; 
            font-size: 1em;
        }

        /* –¢–ê–ë–õ–ò–¶–ê */
        .levels-container { 
            max-width: 1000px; margin: 0 auto; 
            background: #1a1a1a; border-radius: 8px; 
            overflow: hidden; border: 1px solid #333; 
        }
        .table-header-info { 
            background: #2c2c2c; padding: 8px 20px; 
            text-align: center; color: #fff; font-size: 0.9em; 
            border-bottom: 1px solid #444; 
            display: flex; justify-content: space-between; 
        }
        .dte-tag { 
            background: #d32f2f; color: white; 
            padding: 2px 6px; border-radius: 4px; 
            font-size: 0.8em; 
        }

        .table-wrapper { overflow-x: auto; max-height: 600px; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; text-align: center; font-size: 0.85em; }
        thead { background: #111; color: #aaa; font-size: 0.9em; position: sticky; top: 0; z-index: 10; }
        th { padding: 8px 4px; font-weight: 600; white-space: nowrap; }
        td { padding: 6px 4px; border-bottom: 1px solid #2a2a2a; } 
        
        .col-strike { 
            background: #252525; color: #fff; 
            font-weight: bold; font-size: 1.1em; 
            border-left: 1px solid #333; 
            border-right: 1px solid #333; 
            width: 80px; 
        }
        .row-atm td { 
            background: rgba(255, 215, 0, 0.1); 
            border-top: 1px solid var(--accent-gold); 
            border-bottom: 1px solid var(--accent-gold); 
        }
        .forward-active { 
            color: var(--accent-gold) !important; 
            text-decoration: underline; 
        }

        /* –ì–†–ê–î–ê–¶–ò–Ø –¶–í–ï–¢–û–í */
        .val-0 { color: #333; }
        .val-1 { color: #666; }
        .val-2 { color: #999; }
        .val-3 { color: #ccc; font-weight: 500; }
        .val-4 { color: #fff; font-weight: bold; }
        .val-5 { color: #4fc3f7; font-weight: bold; font-size: 1.05em; }
        .val-6 { color: #FFD700; font-weight: bold; font-size: 1.1em; text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
        .val-7 { background: #b71c1c; color: #fff; font-weight: bold; padding: 4px; border-radius: 4px; }

        .download { padding: 40px 20px; text-align: center; }
        .download-card { 
            background: #222; padding: 30px; 
            display:inline-block; border-radius:10px; 
            border:1px solid #333; 
        }
        .btn-download { 
            background: var(--call-color); color: white; 
            padding: 15px 30px; border-radius: 5px; 
            display: inline-block; margin: 10px 0; 
            font-weight: bold; 
        }

        .disclaimer-link {
            background: #333; color: var(--accent-gold);
            padding: 10px 20px; border-radius: 5px;
            display: inline-block; margin: 10px;
            cursor: pointer; font-weight: bold;
        }
        .disclaimer-link:hover {
            background: #444;
        }

        footer { 
            background: #111; padding: 20px; 
            text-align: center; color: #666; 
            font-size: 0.8em; 
        }

        @media (max-width: 768px) {
            .menu { display: none; }
            .calculator-panel, .strike-filter, .expiry-toggle { flex-direction: column; }
            .top5-container, .analytics-grid, .charts-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header>
    <div class="logo"><span>üìä</span> Gold Options</div>
    <nav>
        <ul class="menu">
            <li><a href="#analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
            <li><a href="#charts">–ì—Ä–∞—Ñ–∏–∫–∏</a></li>
            <li><a href="#greeks">Greeks</a></li>
            <li><a href="#top5">–¢–û–ü-5</a></li>
            <li><a href="#download">APK</a></li>
            <!-- –ö–Ω–æ–ø–∫–∞ Telegram –≤ –º–µ–Ω—é -->
            <li class="tg-menu-item">
                <a href="https://t.me/+-tmtq_FUl2NhMjVi" target="_blank" class="tg-link-small">
                    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.891 8.146l-1.703 8.026c-.128.564-.463.702-.937.437l-2.592-1.911-1.251 1.203c-.138.138-.254.254-.518.254l.186-2.637 4.8-4.336c.209-.186-.045-.289-.323-.104l-5.932 3.735-2.556-.799c-.555-.174-.567-.555.116-.822l9.989-3.85c.463-.174.867.104.721.799z"/></svg>
                    Telegram
                </a>
            </li>
        </ul>
    </nav>
</header>

    <section class="hero">
    <h1>Gold Analytics Pro</h1>
    <p class="subtitle">Max Pain ‚Ä¢ Gamma Walls ‚Ä¢ Greeks Analytics ‚Ä¢ Real-time Data</p>
    
    <div class="hero-buttons">
        <a href="#download" class="btn btn-primary">–°–∫–∞—á–∞—Ç—å Android APK</a>
        
        <!-- –ë–æ–ª—å—à–∞—è –∫–Ω–æ–ø–∫–∞ Telegram -->
        <a href="https://t.me/+-tmtq_FUl2NhMjVi" target="_blank" class="btn btn-telegram">
            <svg viewBox="0 0 24 24" width="22" height="22"><path fill="currentColor" d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.891 8.146l-1.703 8.026c-.128.564-.463.702-.937.437l-2.592-1.911-1.251 1.203c-.138.138-.254.254-.518.254l.186-2.637 4.8-4.336c.209-.186-.045-.289-.323-.104l-5.932 3.735-2.556-.799c-.555-.174-.567-.555.116-.822l9.989-3.85c.463-.174.867.104.721.799z"/></svg>
            –ù–∞—à –∫–∞–Ω–∞–ª
        </a>
    </div>
</section>

    <!-- DISCLAIMER MODAL -->
    <div id="disclaimerModal" class="disclaimer-modal">
        <div class="disclaimer-content">
            <h2>‚ö†Ô∏è –û–¢–ö–ê–ó –û–¢ –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò</h2>
            
            <p><strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä:</strong><br>
            –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –≥—Ä–∞—Ñ–∏–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç—ã –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ "Gold Analytics Pro" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö. –û–Ω–∏ –ù–ï —è–≤–ª—è—é—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º —Å–æ–≤–µ—Ç–æ–º, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π –∫ –ø–æ–∫—É–ø–∫–µ/–ø—Ä–æ–¥–∞–∂–µ –∞–∫—Ç–∏–≤–æ–≤ –∏–ª–∏ —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–æ–º.</p>
            
            <p><strong>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–π:</strong><br>
            –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—Ç—É –∏–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ–ø—Ü–∏–æ–Ω–∞–º –∏ —Ñ—å—é—á–µ—Ä—Å–∞–º –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.</p>
            
            <p><strong>–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫:</strong><br>
            –¢–æ—Ä–≥–æ–≤–ª—è —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ –∏ –æ–ø—Ü–∏–æ–Ω–∞–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–Ω—É—Ç—Ä–∏–¥–Ω–µ–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ (0DTE), —Å–æ–ø—Ä—è–∂–µ–Ω–∞ —Å —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º –ø–æ–ª–Ω–æ–π –ø–æ—Ç–µ—Ä–∏ –∫–∞–ø–∏—Ç–∞–ª–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—Å–µ—Ç –ø–æ–ª–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–æ–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è.</p>
            
            <p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</strong><br>
            –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É–±—ã—Ç–∫–∏, —É–ø—É—â–µ–Ω–Ω—É—é –≤—ã–≥–æ–¥—É –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
            
            <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:</strong><br>
            –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –±–∏—Ä–∂–∏.</p>
            
            <hr style="border-color: #444; margin: 20px 0;">
            
            <h2>üîí –ü–û–õ–ò–¢–ò–ö–ê –ö–û–ù–§–ò–î–ï–ù–¶–ò–ê–õ–¨–ù–û–°–¢–ò</h2>
            
            <p><strong>–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:</strong><br>
            –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "Gold Analytics Pro" –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</p>
            
            <p><strong>Cookies:</strong><br>
            –°–∞–π—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ cookies –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∏–ª–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ cookies —Ç—Ä–µ—Ç—å–∏—Ö —Å—Ç–æ—Ä–æ–Ω.</p>
            
            <p><strong>–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏:</strong><br>
            –°–∞–π—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–∏—Ö —Å–∞–π—Ç–æ–≤.</p>
            
            <p><strong>–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏:</strong><br>
            –ú—ã –æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ —Å–∞–π—Ç–µ.</p>
            
            <button class="close-disclaimer" onclick="closeDisclaimer()">–ü–æ–Ω—è—Ç–Ω–æ</button>
            <div style="clear:both;"></div>
        </div>
    </div>

    <section class="live-data">
        
        <div class="warning-block">
            <div class="warning-title">‚ö† –°–¢–ê–¢–£–° –î–ê–ù–ù–´–•</div>
            <p class="warning-text">
                –û–ø—Ü–∏–æ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 5 –º–∏–Ω—É—Ç.<br>
                –¶–µ–Ω–∞ —Ñ—å—é—á–µ—Ä—Å–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ 5 —Å–µ–∫—É–Ω–¥.<br>
                –ò–Ω—Ç—Ä–∞–¥–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥.
            </p>
        </div>

        <!-- üî• ALERTS -->
        <div id="alerts-container" class="alerts-container">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
        </div>
        
        <div class="data-container">
            <div class="data-card">
                <div class="small-text">–¶–µ–Ω–∞ (Live)</div>
                <div class="big-number" id="futures-price">...</div>
            </div>
            
            <div class="data-card" style="min-width: 180px;">
                <div class="pcr-grid">
                    <div class="pcr-item">
                        <div id="pcr-oi">...</div>
                        <div>PCR (OI)</div>
                    </div>
                    <div class="pcr-item">
                        <div id="pcr-vol">...</div>
                        <div>PCR (Vol)</div>
                    </div>
                </div>
            </div>
            
            <div class="data-card">
                <div class="small-text">–ë–∞–ª–∞–Ω—Å</div>
                <div class="big-number" id="balance-price">...</div>
            </div>
            <div class="data-card">
                <div class="small-text">Updated UTC</div>
                <div class="big-number" id="updated-time">--:--</div>
            </div>
        </div>

        <!-- üî• –ò–ù–¢–†–ê–î–ï–ô –ê–ù–ê–õ–ò–¢–ò–ö–ê -->
        <div id="analytics" class="analytics-grid">
            <!-- Max Pain -->
            <div class="analytics-card">
                <div class="analytics-title">üéØ Max Pain</div>
                <div class="analytics-value" id="max-pain-value">-</div>
                <div class="analytics-label">–¢–æ—á–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–æ–ª–∏</div>
            </div>

            <!-- Zero Gamma -->
            <div class="analytics-card">
                <div class="analytics-title">‚ö° Zero Gamma</div>
                <div class="analytics-value" id="zero-gamma-value">-</div>
                <div class="analytics-label" id="zero-gamma-label">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>

            <!-- IV Skew -->
            <div class="analytics-card">
                <div class="analytics-title">üìà IV Skew</div>
                <div class="analytics-value" id="iv-skew-value">-</div>
                <div class="analytics-label">
                    <span id="iv-sentiment" class="sentiment-badge sentiment-neutral">NEUTRAL</span>
                </div>
            </div>

            <!-- Squeeze Risk -->
            <div class="analytics-card">
                <div class="analytics-title">üî• Gamma Squeeze Risk</div>
                <div class="analytics-value" id="squeeze-risk-level">-</div>
                <div class="risk-indicator">
                    <div class="risk-bar">
                        <div id="squeeze-risk-fill" class="risk-fill risk-low" style="width: 0%"></div>
                    </div>
                </div>
                <div class="analytics-label" id="squeeze-risk-label">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>

            <!-- Momentum -->
            <div class="analytics-card">
                <div class="analytics-title">üìä Price Momentum</div>
                <div class="analytics-value" id="momentum-signal">-</div>
                <div class="analytics-label" id="momentum-label">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>

            <!-- Delta Skew -->
            <div class="analytics-card">
                <div class="analytics-title">‚öñÔ∏è Delta Skew</div>
                <div class="analytics-value" id="delta-skew-value">-</div>
                <div class="analytics-label">Call Delta vs Put Delta</div>
            </div>

            <!-- Vanna Exposure -->
            <div class="analytics-card">
                <div class="analytics-title">üåÄ Vanna Exposure</div>
                <div class="analytics-value" id="vanna-net">-</div>
                <div class="analytics-label" id="vanna-label">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>

            <!-- Key Levels -->
            <div class="analytics-card">
                <div class="analytics-title">üìç Key Levels</div>
                <div id="key-levels-display" style="margin-top: 10px;">
                    <div class="analytics-label">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>
        </div>

        <!-- üî• –ì–†–ê–§–ò–ö–ò -->
        <div id="charts" class="charts-container">
            <div class="chart-box">
    <div class="chart-title">
    üìä OI Distribution (Call vs Put)
    <span class="chart-help">
        ‚ùì
        <div class="chart-annotation">
            <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> –í—ã—Å–æ–∫–∏–π Put OI = –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–Ω–∏–∑—É. 
            –í—ã—Å–æ–∫–∏–π Call OI = —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É. –ï—Å–ª–∏ Put > Call –Ω–∞ —É—Ä–æ–≤–Ω–µ ‚Äî 
            –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä—ã –∑–∞—â–∏—â–∞—é—Ç —Ü–µ–Ω—É —Å–Ω–∏–∑—É.
        </div>
    </span>
</div>
<div class="chart-wrapper">
    <canvas id="oiChart"></canvas>
</div>

            <div class="chart-box">
    <div class="chart-title">üìà Volume Heatmap</div>
    <div class="chart-wrapper">
        <canvas id="volumeChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> –†–µ–∑–∫–∏–µ —Å–∫–∞—á–∫–∏ Volume = –∞–∫—Ç–∏–≤–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –Ω–∞ —É—Ä–æ–≤–Ω–µ. –ï—Å–ª–∏ Volume –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ ‚Äî —É—Ä–æ–≤–µ–Ω—å "–≥–æ—Ä—è—á–∏–π". –°–º–æ—Ç—Ä–∏, –≥–¥–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –æ–±—ä–µ–º–∞ ‚Äî —Ç–∞–º –∫–ª—é—á–µ–≤—ã–µ –±–∏—Ç–≤—ã.
    </div>
</div>

            <div class="chart-box">
    <div class="chart-title">‚ö° Gamma Exposure</div>
    <div class="chart-wrapper">
        <canvas id="gammaChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è Gamma = —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ, MM –ø–æ–∫—É–ø–∞—é—Ç –ø—Ä–∏ —Ä–æ—Å—Ç–µ. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è = –ø–æ–¥–¥–µ—Ä–∂–∫–∞, MM –ø—Ä–æ–¥–∞—é—Ç. –ë–æ–ª—å—à–∏–µ –ø–∏–∫–∏ = "Gamma Walls" ‚Äî –º–∞–≥–Ω–∏—Ç—ã —Ü–µ–Ω—ã.
    </div>
</div>

           <div class="chart-box">
    <div class="chart-title">üéØ Max Pain Analysis</div>
    <div class="chart-wrapper">
        <canvas id="maxPainChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> –ú–∏–Ω–∏–º—É–º –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ = Max Pain (—Ç–æ—á–∫–∞, –≥–¥–µ –æ–ø—Ü–∏–æ–Ω—ã —Ç–µ—Ä—è—é—Ç –º–∞–∫—Å–∏–º—É–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏). –¶–µ–Ω–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ —ç—Ç–æ–π —Ç–æ—á–∫–µ –∫ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏. –ß–µ–º –¥–∞–ª—å—à–µ –æ—Ç Max Pain, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ "–ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ".
    </div>
</div>

            <!-- üî• –ù–û–í–´–ï –ì–†–ê–§–ò–ö–ò -->
            <div class="chart-box">
    <div class="chart-title">üåà IV Smile</div>
    <div class="chart-wrapper">
        <canvas id="ivChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> "–£–ª—ã–±–∫–∞" = —Ä—ã–Ω–æ–∫ –∂–¥–µ—Ç —Å–∏–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ Put IV > Call IV (–ø–µ—Ä–µ–∫–æ—Å –≤–ø—Ä–∞–≤–æ) = —Å—Ç—Ä–∞—Ö –ø–∞–¥–µ–Ω–∏—è. –ü–ª–æ—Å–∫–∞—è –ª–∏–Ω–∏—è = —Å–ø–æ–∫–æ–π–Ω—ã–π —Ä—ã–Ω–æ–∫.
    </div>
</div>
        <div class="chart-box">
    <div class="chart-title">‚öñÔ∏è Delta Profile</div>
    <div class="chart-wrapper">
        <canvas id="deltaChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> Delta –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–π. –ï—Å–ª–∏ Call Delta > Put Delta = –±—ã—á–∏–π –Ω–∞—Å—Ç—Ä–æ–π. –ë–æ–ª—å—à–∏–µ —Å—Ç–æ–ª–±—Ü—ã = –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ.
    </div>
</div>

        <div class="chart-box">
    <div class="chart-title">üî• GEX Profile</div>
    <div class="chart-wrapper">
        <canvas id="gexChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> –ó–µ–ª–µ–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã = –∑–æ–Ω—ã —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è (MM –ø—Ä–æ–¥–∞—é—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏). –ö—Ä–∞—Å–Ω—ã–µ = –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (MM –ø–æ–∫—É–ø–∞—é—Ç –ø—Ä–∏ —Ä–æ—Å—Ç–µ). –°–∞–º—ã–µ –≤—ã—Å–æ–∫–∏–µ = —Å–∏–ª—å–Ω–µ–π—à–∏–µ Gamma Walls.
    </div>
</div>
        <div class="chart-box">
    <div class="chart-title">‚è±Ô∏è Theta Decay</div>
    <div class="chart-wrapper">
        <canvas id="thetaChart"></canvas>
    </div>
    <div class="chart-annotation">
        ‚ùì <strong>–ö–∞–∫ —á–∏—Ç–∞—Ç—å:</strong> Theta = –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞—Å–ø–∞–¥ –æ–ø—Ü–∏–æ–Ω–æ–≤. –ß–µ–º –Ω–∏–∂–µ –ª–∏–Ω–∏—è, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –æ–ø—Ü–∏–æ–Ω—ã —Ç–µ—Ä—è—é—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å. –í—ã—Å–æ–∫–∞—è Theta –Ω–∞ ATM = –ø—Ä–æ–¥–∞–≤—Ü—ã –æ–ø—Ü–∏–æ–Ω–æ–≤ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –º–∞–∫—Å–∏–º—É–º.
    </div>
</div>
    </div>

    <!-- üî• –ì–†–ï–ö–ò (–ù–û–í–´–ô –†–ê–ó–î–ï–õ) -->
    <div id="greeks" style="max-width: 1200px; margin: 0 auto 30px auto;">
        <h2 style="text-align: center; color: var(--accent-gold); margin-bottom: 20px;">üéì Greeks Analytics</h2>
        
        <div class="analytics-grid">
            <div class="analytics-card">
    <div class="analytics-title">
    Œî Total Call Delta
    <span class="analytics-help">
        ‚ùì
        <div class="analytics-annotation">
            Delta = —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã –æ–ø—Ü–∏–æ–Ω–∞. 
            –í—ã—Å–æ–∫–∏–π Call Delta = –º–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –±—ã—á—å–∏—Ö —Å—Ç–∞–≤–æ–∫.
        </div>
    </span>
</div>

            <div class="analytics-card">
    <div class="analytics-title">Œî Total Put Delta</div>
    <div class="analytics-value" id="total-put-delta">-</div>
    <div class="analytics-annotation">
        ‚ùì Put Delta (–≤—Å–µ–≥–¥–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π). –ï—Å–ª–∏ |Put Delta| > Call Delta = –º–µ–¥–≤–µ–∂–∏–π –Ω–∞—Å—Ç—Ä–æ–π —Ä—ã–Ω–∫–∞.
    </div>
</div>

            <div class="analytics-card">
    <div class="analytics-title">Œì Total Gamma</div>
    <div class="analytics-value" id="total-gamma">-</div>
    <div class="analytics-annotation">
        ‚ùì Gamma = —É—Å–∫–æ—Ä–µ–Ω–∏–µ Delta. –í—ã—Å–æ–∫–∞—è Gamma = —Ä–µ–∑–∫–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã –ø—Ä–∏ –ø—Ä–æ–±–æ–µ —É—Ä–æ–≤–Ω–µ–π. –†–∏—Å–∫ Gamma Squeeze.
    </div>
</div>

            <div class="analytics-card">
    <div class="analytics-title">ŒΩ Total Vega</div>
    <div class="analytics-value" id="total-vega">-</div>
    <div class="analytics-annotation">
        ‚ùì Vega = —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏. –í—ã—Å–æ–∫–∞—è Vega = –æ–ø—Ü–∏–æ–Ω—ã —Å–∏–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ IV.
    </div>
</div>

            <div class="analytics-card">
    <div class="analytics-title">Œò Total Theta</div>
    <div class="analytics-value" id="total-theta">-</div>
    <div class="analytics-annotation">
        ‚ùì Theta = –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞—Å–ø–∞–¥. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è = –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –æ–ø—Ü–∏–æ–Ω–æ–≤ —Ç–µ—Ä—è—é—Ç –¥–µ–Ω—å–≥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ü—Ä–æ–¥–∞–≤—Ü—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç.
    </div>
</div>

            <div class="analytics-card">
    <div class="analytics-title">üìä Avg IV</div>
    <div class="analytics-value" id="avg-iv">-</div>
    <div class="analytics-annotation">
        ‚ùì IV = –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å. –í—ã—Å–æ–∫–∞—è IV (>30%) = –¥–æ—Ä–æ–≥–∏–µ –æ–ø—Ü–∏–æ–Ω—ã, —Ä—ã–Ω–æ–∫ –∂–¥–µ—Ç —Å–∏–ª—å–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π.
    </div>
</div>
        </div>
    </div>

    <div class="control-panel">
        <!-- –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –≠–ö–°–ü–ò–†–ê–¶–ò–ô -->
        <div class="expiry-toggle">
            <span class="filter-label">–≠–∫—Å–ø–∏—Ä–∞—Ü–∏—è:</span>
            <button class="expiry-btn active" data-expiry="0dte">INTRADAY (0DTE)</button>
            <button class="expiry-btn" data-expiry="friday">FRIDAY (1DTE)</button>
        </div>

        <div class="calculator-panel">
            <label style="color:#fff; font-weight:bold;">Forward (–§–æ—Ä–≤–∞—Ä–¥):</label>
            <input type="number" id="forward-input" class="calc-input" placeholder="0" step="0.5" value="0">
            
            <label style="color:#fff; font-weight:bold;">–†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–π:</label>
            <button class="premium-btn" id="premium-toggle">–í–∫–ª. –ø—Ä–µ–º–∏–∏</button>
            <span style="color: #888; font-size: 0.85em;">(Call+Prem, Put-Prem)</span>
        </div>

        <div class="strike-filter">
            <span class="filter-label">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–π–∫–æ–≤:</span>
            <button class="filter-btn" data-count="50">50</button>
            <button class="filter-btn active" data-count="75">75</button>
            <button class="filter-btn" data-count="100">100</button>
            <button class="filter-btn" data-count="125">125</button>
            <button class="filter-btn" data-count="150">150</button>
        </div>
    </div>

    <div id="top5" class="top5-container">
        <div class="top5-box">
            <div class="top5-title">üü¢ CALLS - –¢–û–ü-5</div>
            <div class="top5-grid">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <div style="color: #888; font-size: 0.85em; margin-bottom: 8px; text-align: center;">–ü–æ Volume</div>
                        <div id="top5-call-vol"></div>
                    </div>
                    <div>
                        <div style="color: #888; font-size: 0.85em; margin-bottom: 8px; text-align: center;">–ü–æ OI</div>
                        <div id="top5-call-oi"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="top5-box">
            <div class="top5-title">üî¥ PUTS - –¢–û–ü-5</div>
            <div class="top5-grid">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>
                        <div style="color: #888; font-size: 0.85em; margin-bottom: 8px; text-align: center;">–ü–æ Volume</div>
                        <div id="top5-put-vol"></div>
                    </div>
                    <div>
                        <div style="color: #888; font-size: 0.85em; margin-bottom: 8px; text-align: center;">–ü–æ OI</div>
                        <div id="top5-put-oi"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="levels-container">
        <div class="table-header-info">
            <span id="table-expiry-label">INTRADAY <span class="dte-tag">0DTE</span></span>
            <span style="color:#888;">Full Analytics Active</span>
        </div>
        
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th colspan="5" style="border-bottom: 2px solid var(--call-color);">CALLS</th>
                        <th style="background:#222;"></th>
                        <th colspan="5" style="border-bottom: 2px solid var(--put-color);">PUTS</th>
                    </tr>
                    <tr>
                        <th>OI</th><th>Vol</th><th>Prem</th><th>Œî</th><th>Œì</th>
                        <th style="background:#333; color:#fff;">STRIKE</th>
                        <th>Œì</th><th>Œî</th><th>Prem</th><th>Vol</th><th>OI</th>
                    </tr>
                </thead>
                <tbody id="option-body">
                    <tr><td colspan="11" style="padding: 20px;">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<section id="download" class="download">
    <h2>–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h2>
    
    <!-- üî• –ù–û–í–´–ô –ë–õ–û–ö –° –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï–ú -->
    <div class="security-info">
        <div class="security-card">
            <div class="security-icon">üîí</div>
            <h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏</h3>
            <p>
                –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ APK-—Ñ–∞–π–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <strong>—Ä–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</strong> 
                –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏).
            </p>
            <p>
                –ù–∞—à APK-—Ñ–∞–π–ª <strong>–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏—Ä—É—Å–æ–≤</strong> –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–µ–Ω. 
                –ú—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ–º –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.
            </p>
            <details class="install-guide">
                <summary>üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ</summary>
                <ol>
                    <li>–°–∫–∞—á–∞–π—Ç–µ APK-—Ñ–∞–π–ª –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></li>
                    <li>–í–∫–ª—é—á–∏—Ç–µ <strong>"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏"</strong> –∏–ª–∏ <strong>"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"</strong></li>
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ –Ω–∞–∂–º–∏—Ç–µ <strong>"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"</strong></li>
                    <li>–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞—Ç–Ω–æ</li>
                </ol>
            </details>
        </div>
    </div>
    
    <div class="download-card">
        <h3>Android APK</h3>
        <p style="color:#888;">–í–µ—Ä—Å–∏—è 1.0</p>
        <a href="downloads/gold-options.apk" download class="btn-download">üì• –°–∫–∞—á–∞—Ç—å APK</a>
        <p class="apk-size">–†–∞–∑–º–µ—Ä: ~5 –ú–ë</p>
    </div>
    
    <div style="margin-top: 30px;">
        <span class="disclaimer-link" onclick="openDisclaimer()">üìÑ Disclaimer & Privacy Policy</span>
    </div>
</section>
<footer>
    <p>&copy; 2025 Gold Options Pro Analytics. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å" –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π.</p>
    <p style="margin-top: 10px;">
        <a href="#" onclick="openDisclaimer(); return false;" style="color: var(--accent-gold);">–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a> | 
        <a href="#" onclick="openDisclaimer(); return false;" style="color: var(--accent-gold);">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
    </p>
</footer>
<script>
    const DB_ROOT = "https://cmeparser-default-rtdb.europe-west1.firebasedatabase.app";
    
    let currentFuturesPrice = 0;
    let cachedTableData = []; 
    let forwardCorrection = 0;
    let displayStrikeCount = 75;
    let currentExpiry = '0dte';
    let premiumEnabled = false;

    // üî• –ì–†–ê–§–ò–ö–ò
    let oiChart, volumeChart, gammaChart, maxPainChart;
    let ivChart, deltaChart, gexChart, thetaChart;

    // DISCLAIMER
    function openDisclaimer() {
        document.getElementById('disclaimerModal').style.display = 'block';
    }

    function closeDisclaimer() {
        document.getElementById('disclaimerModal').style.display = 'none';
    }

    window.onclick = function(event) {
        const modal = document.getElementById('disclaimerModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }

    function getValueClass(value) {
        if (value === 0) return 'val-0';
        if (value < 50) return 'val-1';
        if (value < 100) return 'val-2';
        if (value < 500) return 'val-3';
        if (value < 1000) return 'val-4';
        if (value < 2000) return 'val-5';
        if (value < 5000) return 'val-6';
        return 'val-7';
    }

    // ==========================================================================
    // üî• –°–û–ó–î–ê–ù–ò–ï –ì–†–ê–§–ò–ö–û–í
    // ==========================================================================

    function createCharts(data) {
        const strikes = data.map(r => r.strike);
        const callOI = data.map(r => r.call?.oi || 0);
        const putOI = data.map(r => r.put?.oi || 0);
        const callVol = data.map(r => r.call?.vol || 0);
        const putVol = data.map(r => r.put?.vol || 0);

        // OI Distribution
        if (oiChart) oiChart.destroy();
        const ctxOI = document.getElementById('oiChart').getContext('2d');
        oiChart = new Chart(ctxOI, {
            type: 'bar',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Call OI',
                    data: callOI,
                    backgroundColor: 'rgba(46, 125, 50, 0.7)',
                    borderColor: 'rgba(46, 125, 50, 1)',
                    borderWidth: 1
                }, {
                    label: 'Put OI',
                    data: putOI.map(v => -v),
                    backgroundColor: 'rgba(198, 40, 40, 0.7)',
                    borderColor: 'rgba(198, 40, 40, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // Volume Heatmap
        if (volumeChart) volumeChart.destroy();
        const ctxVol = document.getElementById('volumeChart').getContext('2d');
        volumeChart = new Chart(ctxVol, {
            type: 'bar',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Call Vol',
                    data: callVol,
                    backgroundColor: 'rgba(79, 195, 247, 0.7)',
                    borderColor: 'rgba(79, 195, 247, 1)',
                    borderWidth: 1
                }, {
                    label: 'Put Vol',
                    data: putVol.map(v => -v),
                    backgroundColor: 'rgba(255, 138, 101, 0.7)',
                    borderColor: 'rgba(255, 138, 101, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // Gamma Exposure
        const gammaData = data.map(r => {
            const strike = parseFloat(r.strike);
            const callGamma = r.call?.gamma || 0;
            const putGamma = r.put?.gamma || 0;
            const callOI = r.call?.oi || 0;
            const putOI = r.put?.oi || 0;
            return ((callOI * callGamma) - (putOI * putGamma)) * strike * 100 / 1000000;
        });

        if (gammaChart) gammaChart.destroy();
        const ctxGamma = document.getElementById('gammaChart').getContext('2d');
        gammaChart = new Chart(ctxGamma, {
            type: 'line',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Gamma Exposure (M)',
                    data: gammaData,
                    backgroundColor: 'rgba(255, 215, 0, 0.2)',
                    borderColor: 'rgba(255, 215, 0, 1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // Max Pain
        const maxPainData = strikes.map(testStrike => {
            let totalLoss = 0;
            data.forEach(s => {
                const strike = parseFloat(s.strike);
                const callOI = s.call?.oi || 0;
                const putOI = s.put?.oi || 0;
                
                if (testStrike > strike) {
                    totalLoss += (testStrike - strike) * callOI * 100;
                }
                if (testStrike < strike) {
                    totalLoss += (strike - testStrike) * putOI * 100;
                }
            });
            return totalLoss / 1000000;
        });

        if (maxPainChart) maxPainChart.destroy();
        const ctxMaxPain = document.getElementById('maxPainChart').getContext('2d');
        maxPainChart = new Chart(ctxMaxPain, {
            type: 'line',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Total Loss (M)',
                    data: maxPainData,
                    backgroundColor: 'rgba(183, 28, 28, 0.2)',
                    borderColor: 'rgba(183, 28, 28, 1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // üî• IV SMILE
        const callIV = data.map(r => r.call?.iv || 0);
        const putIV = data.map(r => r.put?.iv || 0);

        if (ivChart) ivChart.destroy();
        const ctxIV = document.getElementById('ivChart').getContext('2d');
        ivChart = new Chart(ctxIV, {
            type: 'line',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Call IV',
                    data: callIV,
                    borderColor: '#4caf50',
                    backgroundColor: 'rgba(76, 175, 80, 0.1)',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Put IV',
                    data: putIV,
                    borderColor: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // üî• DELTA PROFILE
        const callDelta = data.map(r => (r.call?.delta || 0) * (r.call?.oi || 0));
        const putDelta = data.map(r => Math.abs(r.put?.delta || 0) * (r.put?.oi || 0));

        if (deltaChart) deltaChart.destroy();
        const ctxDelta = document.getElementById('deltaChart').getContext('2d');
        deltaChart = new Chart(ctxDelta, {
            type: 'bar',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Call Delta Exposure',
                    data: callDelta,
                    backgroundColor: 'rgba(76, 175, 80, 0.7)',
                    borderColor: 'rgba(76, 175, 80, 1)',
                    borderWidth: 1
                }, {
                    label: 'Put Delta Exposure',
                    data: putDelta.map(v => -v),
                    backgroundColor: 'rgba(244, 67, 54, 0.7)',
                    borderColor: 'rgba(244, 67, 54, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // üî• GEX PROFILE
        if (gexChart) gexChart.destroy();
        const ctxGex = document.getElementById('gexChart').getContext('2d');
        gexChart = new Chart(ctxGex, {
            type: 'bar',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Net GEX',
                    data: gammaData,
                    backgroundColor: gammaData.map(v => v > 0 ? 'rgba(76, 175, 80, 0.7)' : 'rgba(244, 67, 54, 0.7)'),
                    borderColor: gammaData.map(v => v > 0 ? 'rgba(76, 175, 80, 1)' : 'rgba(244, 67, 54, 1)'),
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });

        // üî• THETA DECAY
        const callTheta = data.map(r => (r.call?.theta || 0) * (r.call?.oi || 0));
        const putTheta = data.map(r => (r.put?.theta || 0) * (r.put?.oi || 0));

        if (thetaChart) thetaChart.destroy();
        const ctxTheta = document.getElementById('thetaChart').getContext('2d');
        thetaChart = new Chart(ctxTheta, {
            type: 'line',
            data: {
                labels: strikes,
                datasets: [{
                    label: 'Call Theta',
                    data: callTheta,
                    borderColor: '#4caf50',
                    backgroundColor: 'rgba(76, 175, 80, 0.1)',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Put Theta',
                    data: putTheta,
                    borderColor: '#f44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    x: { ticks: { color: '#888', maxRotation: 45 }, grid: { color: '#333' } },
                    y: { ticks: { color: '#888' }, grid: { color: '#333' } }
                }
            }
        });
    }

    // ==========================================================================
    // üî• –†–ê–°–ß–ï–¢–´
    // ==========================================================================

    function calculateMaxPain(data) {
        const maxPainValues = {};
        
        data.forEach(strikeData => {
            const testStrike = parseFloat(strikeData.strike);
            let totalLoss = 0;
            
            data.forEach(s => {
                const strike = parseFloat(s.strike);
                const callOI = s.call?.oi || 0;
                const putOI = s.put?.oi || 0;
                
                if (testStrike > strike) {
                    totalLoss += (testStrike - strike) * callOI * 100;
                }
                if (testStrike < strike) {
                    totalLoss += (strike - testStrike) * putOI * 100;
                }
            });
            
            maxPainValues[testStrike] = totalLoss;
        });
        
        const maxPain = Object.keys(maxPainValues).reduce((a, b) => 
            maxPainValues[a] < maxPainValues[b] ? a : b
        );
        
        document.getElementById('max-pain-value').innerText = '$' + maxPain;
    }

    function calculatePCR(rows) {
        let totalPutOI = 0, totalCallOI = 0;
        let totalPutVol = 0, totalCallVol = 0;

        rows.forEach(r => {
            if(r.put) {
                totalPutOI += (r.put.oi || 0);
                totalPutVol += (r.put.vol || 0);
            }
            if(r.call) {
                totalCallOI += (r.call.oi || 0);
                totalCallVol += (r.call.vol || 0);
            }
        });
        
        let pcrOI = totalCallOI > 0 ? (totalPutOI / totalCallOI).toFixed(2) : "0.00";
        let pcrVol = totalCallVol > 0 ? (totalPutVol / totalCallVol).toFixed(2) : "0.00";
        
        document.getElementById('pcr-oi').innerText = pcrOI;
        document.getElementById('pcr-vol').innerText = pcrVol;
        
        colorPCR('pcr-oi', parseFloat(pcrOI));
        colorPCR('pcr-vol', parseFloat(pcrVol));
    }

    function colorPCR(elementId, value) {
        const el = document.getElementById(elementId);
        if(value > 1.0) el.style.color = "#f44336";
        else if(value < 0.7) el.style.color = "#4caf50";
        else el.style.color = "#fff";
    }

    // üî• –ì–†–ï–ö–ò
    function calculateGreeks(data) {
        let totalCallDelta = 0, totalPutDelta = 0;
        let totalGamma = 0, totalVega = 0, totalTheta = 0;
        let totalCallIV = 0, totalPutIV = 0, totalOI = 0;

        data.forEach(r => {
            const cOI = r.call?.oi || 0;
            const pOI = r.put?.oi || 0;

            totalCallDelta += (r.call?.delta || 0) * cOI;
            totalPutDelta += Math.abs(r.put?.delta || 0) * pOI;
            
            totalGamma += ((r.call?.gamma || 0) * cOI) + ((r.put?.gamma || 0) * pOI);
            totalVega += ((r.call?.vega || 0) * cOI) + ((r.put?.vega || 0) * pOI);
            totalTheta += ((r.call?.theta || 0) * cOI) + ((r.put?.theta || 0) * pOI);

            totalCallIV += (r.call?.iv || 0) * cOI;
            totalPutIV += (r.put?.iv || 0) * pOI;
            
            totalOI += cOI + pOI;
        });

        document.getElementById('total-call-delta').innerText = totalCallDelta.toFixed(0);
        document.getElementById('total-put-delta').innerText = totalPutDelta.toFixed(0);
        document.getElementById('total-gamma').innerText = totalGamma.toFixed(2);
        document.getElementById('total-vega').innerText = totalVega.toFixed(0);
        document.getElementById('total-theta').innerText = totalTheta.toFixed(0);
        
        const avgIV = totalOI > 0 ? ((totalCallIV + totalPutIV) / totalOI).toFixed(1) : '0';
        document.getElementById('avg-iv').innerText = avgIV + '%';

        // Delta Skew
        const deltaSkew = totalCallDelta - totalPutDelta;
        document.getElementById('delta-skew-value').innerText = deltaSkew.toFixed(0);
    }

    // ==========================================================================
    // üî• –ò–ù–¢–†–ê–î–ï–ô –ê–ù–ê–õ–ò–¢–ò–ö–ê
    // ==========================================================================

    async function fetchIntradayAnalytics() {
        try {
            const res = await fetch(`${DB_ROOT}/intraday_analytics.json?t=${Date.now()}`);
            const analytics = await res.json();
            
            if (!analytics) return;

            // Zero Gamma
            if (analytics.zero_gamma) {
                document.getElementById('zero-gamma-value').innerText = '$' + analytics.zero_gamma.strike;
                const pos = analytics.zero_gamma.position === 'above' ? 'üü¢ –í—ã—à–µ' : 'üî¥ –ù–∏–∂–µ';
                document.getElementById('zero-gamma-label').innerText = `–¶–µ–Ω–∞ ${pos} Zero Gamma`;
            }

            // IV Skew
            if (analytics.iv_metrics) {
                const iv = analytics.iv_metrics;
                document.getElementById('iv-skew-value').innerText = iv.iv_skew.toFixed(2);
                
                const badge = document.getElementById('iv-sentiment');
                badge.innerText = iv.sentiment.toUpperCase();
                badge.className = 'sentiment-badge sentiment-' + iv.sentiment;
            }

            // Squeeze Risk
            if (analytics.squeeze_risk) {
                const risk = analytics.squeeze_risk;
                document.getElementById('squeeze-risk-level').innerText = risk.level;
                document.getElementById('squeeze-risk-label').innerText = `Score: ${risk.score}% | ATM: $${risk.atm_strike}`;
                
                const fill = document.getElementById('squeeze-risk-fill');
                fill.style.width = risk.score + '%';
                
                if (risk.score > 70) {
                    fill.className = 'risk-fill risk-high';
                } else if (risk.score > 40) {
                    fill.className = 'risk-fill risk-medium';
                } else {
                    fill.className = 'risk-fill risk-low';
                }
            }

            // Momentum
            if (analytics.momentum) {
                const mom = analytics.momentum;
                document.getElementById('momentum-signal').innerText = mom.signal;
                document.getElementById('momentum-label').innerText = `Strength: ${mom.strength}%`;
            }

            // Vanna
            if (analytics.vanna_exposure) {
                const vanna = analytics.vanna_exposure;
                document.getElementById('vanna-net').innerText = vanna.net_vanna.toFixed(0);
                document.getElementById('vanna-label').innerText = `Call: ${vanna.call_vanna.toFixed(0)} | Put: ${vanna.put_vanna.toFixed(0)}`;
            }

            // Key Levels
            if (analytics.key_levels) {
                const levels = analytics.key_levels;
                let html = '';
                
                html += '<div style="color: #f44336; font-weight: bold; margin-bottom: 5px;">üî¥ Resistance:</div>';
                levels.resistance.forEach(s => {
                    html += `<divclass="level-item resistance"><span>$${s}</span></div>`;
});
            html += '<div style="color: #4caf50; font-weight: bold; margin: 10px 0 5px 0;">üü¢ Support:</div>';
            levels.support.forEach(s => {
                html += `<div class="level-item support"><span>$${s}</span></div>`;
            });
            
            document.getElementById('key-levels-display').innerHTML = html;
        }

        // üî• ALERTS
        generateAlerts(analytics);

    } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:', e);
    }
}

function generateAlerts(analytics) {
    const container = document.getElementById('alerts-container');
    let alerts = [];

    // Squeeze Risk Alert
    if (analytics.squeeze_risk && analytics.squeeze_risk.score > 70) {
        alerts.push({
            type: 'danger',
            text: `üî• –í–´–°–û–ö–ò–ô —Ä–∏—Å–∫ Gamma Squeeze! Score: ${analytics.squeeze_risk.score}%`
        });
    }

    // IV Skew Alert
    if (analytics.iv_metrics) {
        if (Math.abs(analytics.iv_metrics.iv_skew) > 3) {
            alerts.push({
                type: 'warning',
                text: `‚ö†Ô∏è –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π IV Skew: ${analytics.iv_metrics.iv_skew.toFixed(2)}`
            });
        }
    }

    // Momentum Alert
    if (analytics.momentum && analytics.momentum.strength > 70) {
        alerts.push({
            type: 'info',
            text: `üìä –°–∏–ª—å–Ω—ã–π ${analytics.momentum.signal} –∏–º–ø—É–ª—å—Å (${analytics.momentum.strength}%)`
        });
    }

    // GEX Walls Alert
    if (analytics.gex_profile) {
        const walls = [...analytics.gex_profile.top_resistance, ...analytics.gex_profile.top_support];
        const nearWall = walls.find(w => w.distance < 10);
        
        if (nearWall) {
            alerts.push({
                type: 'warning',
                text: `üß± –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ Gamma Wall: $${nearWall.strike} (${nearWall.distance.toFixed(1)} away)`
            });
        }
    }

    // Render Alerts
    if (alerts.length === 0) {
        container.innerHTML = '<div class="alert alert-success">‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</div>';
    } else {
        container.innerHTML = alerts.map(a => 
            `<div class="alert alert-${a.type}">${a.text}</div>`
        ).join('');
    }
}

// ==========================================================================
// FORWARD & PREMIUM
// ==========================================================================

document.getElementById('forward-input').addEventListener('input', function(e) {
    const val = parseFloat(e.target.value);
    forwardCorrection = isNaN(val) ? 0 : val;
    if (cachedTableData.length > 0) {
        renderTable(cachedTableData);
        updateTop5(cachedTableData);
    }
});

document.getElementById('premium-toggle').addEventListener('click', function() {
    premiumEnabled = !premiumEnabled;
    this.textContent = premiumEnabled ? '–û—Ç–∫–ª. –ø—Ä–µ–º–∏–∏' : '–í–∫–ª. –ø—Ä–µ–º–∏–∏';
    this.classList.toggle('active');
    if (cachedTableData.length > 0) {
        renderTable(cachedTableData);
        updateTop5(cachedTableData);
    }
});

// EXPIRY TOGGLE
document.querySelectorAll('.expiry-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.expiry-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentExpiry = this.dataset.expiry;
        
        const label = document.getElementById('table-expiry-label');
        if (currentExpiry === '0dte') {
            label.innerHTML = 'INTRADAY <span class="dte-tag">0DTE</span>';
        } else {
            label.innerHTML = 'FRIDAY <span class="dte-tag">1DTE</span>';
        }
        
        fetchHeavyData();
    });
});

// STRIKE FILTER
document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        displayStrikeCount = parseInt(this.dataset.count);
        if (cachedTableData.length > 0) renderTable(cachedTableData);
    });
});

// ==========================================================================
// FETCH DATA
// ==========================================================================

async function fetchFastPrice() {
    try {
        const res = await fetch(`${DB_ROOT}/gold_fast.json`);
        const data = await res.json();
        if (data && data.price) {
            currentFuturesPrice = data.price;
            document.getElementById('futures-price').innerText = '$' + data.price.toFixed(1);
            if (cachedTableData.length > 0) renderTable(cachedTableData);
        }
    } catch (e) { console.error(e); }
}

async function fetchHeavyData() {
    try {
        const endpoint = currentExpiry === '0dte' ? 'gold_heavy.json' : 'gold_friday.json';
        const url = `${DB_ROOT}/${endpoint}?t=${Date.now()}`;
        
        console.log(`üì° –ó–∞–ø—Ä–æ—Å –∫: ${url}`);

        const res = await fetch(url);
        
        if (!res.ok) {
            console.error("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏");
            document.getElementById('option-body').innerHTML = '<tr><td colspan="11" style="color:red">–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞</td></tr>';
            return;
        }

        const data = await res.json();
        
        if (!data) {
            console.warn("–î–∞–Ω–Ω—ã–µ –ø—É—Å—Ç—ã–µ");
            document.getElementById('option-body').innerHTML = '<tr><td colspan="11">–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</td></tr>';
            return;
        }

        if (data.balance_price) document.getElementById('balance-price').innerText = '$' + data.balance_price;
        if (data.updated_at_utc) document.getElementById('updated-time').innerText = data.updated_at_utc;
        
        let rawData = data.data;
        if (rawData && !Array.isArray(rawData)) {
            console.warn("‚ö†Ô∏è Firebase –≤–µ—Ä–Ω—É–ª –û–±—ä–µ–∫—Ç! –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º...");
            rawData = Object.values(rawData);
        }

        cachedTableData = rawData || [];
        
        console.log(`üìä –ü–æ–ª—É—á–µ–Ω–æ —Å—Ç—Ä–æ–∫: ${cachedTableData.length}`);

        if (cachedTableData.length === 0) {
            document.getElementById('option-body').innerHTML = '<tr><td colspan="11">–ú–∞—Å—Å–∏–≤ –ø—É—Å—Ç</td></tr>';
            return;
        }
        
        calculatePCR(cachedTableData);
        calculateMaxPain(cachedTableData);
        calculateGreeks(cachedTableData);
        createCharts(cachedTableData);
        
        renderTable(cachedTableData);
        updateTop5(cachedTableData);

    } catch (e) { 
        console.error("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:", e);
        document.getElementById('option-body').innerHTML = `<tr><td colspan="11" style="color:red">Error: ${e.message}</td></tr>`;
    }
}

// ==========================================================================
// TOP-5
// ==========================================================================

function updateTop5(rows) {
    const callsVol = [...rows].sort((a, b) => (b.call?.vol || 0) - (a.call?.vol || 0)).slice(0, 5);
    const callsOI = [...rows].sort((a, b) => (b.call?.oi || 0) - (a.call?.oi || 0)).slice(0, 5);
    const putsVol = [...rows].sort((a, b) => (b.put?.vol || 0) - (a.put?.vol || 0)).slice(0, 5);
    const putsOI = [...rows].sort((a, b) => (b.put?.oi || 0) - (a.put?.oi || 0)).slice(0, 5);

    const renderItem = (r, type, metric) => {
        const rawStrike = parseFloat(r.strike) + forwardCorrection;
        const premium = type === 'call' ? (r.call?.premium || 0) : (r.put?.premium || 0);
        const value = type === 'call' ? (r.call?.[metric] || 0) : (r.put?.[metric] || 0);
        
        let displayStrike = rawStrike;
        if (premiumEnabled) {
            displayStrike = type === 'call' ? (rawStrike + premium) : (rawStrike - premium);
        }

        return `<div class="top5-item ${type === 'call' ? 'call-item' : 'put-item'}">
            <span class="top5-strike">${Number.isInteger(displayStrike) ? displayStrike : displayStrike.toFixed(1)}</span>
            <span class="top5-value">${Math.round(value)}</span>
        </div>`;
    };

    document.getElementById('top5-call-vol').innerHTML = callsVol.map(r => renderItem(r, 'call', 'vol')).join('');
    document.getElementById('top5-call-oi').innerHTML = callsOI.map(r => renderItem(r, 'call', 'oi')).join('');
    document.getElementById('top5-put-vol').innerHTML = putsVol.map(r => renderItem(r, 'put', 'vol')).join('');
    document.getElementById('top5-put-oi').innerHTML = putsOI.map(r => renderItem(r, 'put', 'oi')).join('');
}

// ==========================================================================
// RENDER TABLE
// ==========================================================================

function renderTable(rows) {
    const tbody = document.getElementById('option-body');
    tbody.innerHTML = '';
    
    if (!rows || rows.length === 0) return;

    let closestIndex = 0;
    let minDiff = Infinity;

    rows.forEach((row, idx) => {
        const displayStrike = parseFloat(row.strike) + forwardCorrection;
        const diff = Math.abs(displayStrike - currentFuturesPrice);
        if (diff < minDiff) {
            minDiff = diff;
            closestIndex = idx;
        }
    });

    const halfRange = Math.floor(displayStrikeCount / 2);
    let startIdx = Math.max(0, closestIndex - halfRange);
    let endIdx = Math.min(rows.length, startIdx + displayStrikeCount);

    if (endIdx - startIdx < displayStrikeCount) {
        startIdx = Math.max(0, endIdx - displayStrikeCount);
    }

    const displayRows = rows.slice(startIdx, endIdx);

    displayRows.forEach((row, idx) => {
        const tr = document.createElement('tr');
        
        const rawStrike = parseFloat(row.strike) + forwardCorrection;
        const isATM = (startIdx + idx) === closestIndex;

        let c_oi = row.call?.oi || 0;
        let c_vol = row.call?.vol || 0;
        const c_prem = row.call?.premium || 0;
        const c_delta = (row.call?.delta || 0).toFixed(2);
        const c_gamma = (row.call?.gamma || 0).toFixed(4);
        
        let p_oi = row.put?.oi || 0;
        let p_vol = row.put?.vol || 0;
        const p_prem = row.put?.premium || 0;
        const p_delta = (row.put?.delta || 0).toFixed(2);
        const p_gamma = (row.put?.gamma || 0).toFixed(4);

        let strikeHtml = '';
        
        if (premiumEnabled) {
            const callBE = rawStrike + c_prem; 
            const putBE = rawStrike - p_prem;
            
            strikeHtml = `
                <div style="line-height:1.1;">
                    <span style="color:#a5d6a7">${callBE.toFixed(1)}</span><br>
                    <span style="font-size:0.75em; color:#ef9a9a">${putBE.toFixed(1)}</span>
                </div>
            `;
        } else {
            strikeHtml = Number.isInteger(rawStrike) ? rawStrike : rawStrike.toFixed(1);
        }

        const strikeClass = forwardCorrection !== 0 ? 'col-strike forward-active' : 'col-strike';

        tr.innerHTML = `
            <td class="${getValueClass(c_oi)}">${Math.round(c_oi)}</td>
            <td class="${getValueClass(c_vol)}">${Math.round(c_vol)}</td>
            <td style="color:#aaa;">${c_prem}</td>
            <td style="color:#4fc3f7;">${c_delta}</td>
            <td style="color:#FFD700;">${c_gamma}</td>
            
            <td class="${strikeClass}">
                ${strikeHtml}
            </td>
            
            <td style="color:#FFD700;">${p_gamma}</td>
            <td style="color:#f48fb1;">${p_delta}</td>
            <td style="color:#aaa;">${p_prem}</td>
            <td class="${getValueClass(p_vol)}">${Math.round(p_vol)}</td>
            <td class="${getValueClass(p_oi)}">${Math.round(p_oi)}</td>
        `;

        if (isATM) tr.classList.add('row-atm');
        
        tbody.appendChild(tr);
    });
}

// ==========================================================================
// INITIALIZATION
// ==========================================================================

fetchFastPrice();
fetchHeavyData();
fetchIntradayAnalytics();

setInterval(fetchFastPrice, 2000);   
setInterval(fetchHeavyData, 300000);  
setInterval(fetchIntradayAnalytics, 10000); // üî• –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
</script>
</body>
</html>










